name: Keep Alive Backend

on:
  schedule:
    # CẬP NHẬT QUAN TRỌNG:
    # Chuyển thành chạy mỗi 5 phút (*/5).
    # Lý do: GitHub Free thường bị delay 10-20 phút. 
    # Đặt 5 phút giúp đảm bảo ít nhất có 1 lần chạy thành công trong vòng 15 phút để Render không ngủ.
    - cron: '*/5 * * * *'
  
  workflow_dispatch:

jobs:
  ping_render:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Backend Health Endpoint
        run: |
          # Thay URL bằng link backend của bạn
          curl -I -m 10 https://micro-mandarin-back.onrender.com/health
          echo "Ping sent at $(date)"